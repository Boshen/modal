{"version":3,"file":"bundle.js","sources":["../src/modal.ts"],"sourcesContent":["interface ModalProps {\n  content: HTMLElement\n}\n\nclass Modal {\n  private content: HTMLElement\n  private modal: HTMLElement\n  private overlay: HTMLElement\n\n  constructor({\n    content,\n  }: ModalProps) {\n    this.content = content\n    this.modal = document.createElement('div')\n    this.overlay = document.createElement('div')\n  }\n\n  public show() {\n    this.createModal()\n    this.addEventListeners()\n  }\n\n\tpublic close() {\n    this.removeEventListeners()\n    this.modal.remove()\n\t}\n\n  private addEventListeners() {\n    this.overlay.addEventListener('click', this.handleOverlayClick)\n    document.addEventListener('keydown', this.handleEsc)\n  }\n\n  private removeEventListeners () {\n    this.overlay.removeEventListener('click', this.handleOverlayClick)\n    document.removeEventListener('keydown', this.handleEsc)\n  }\n\n  private handleEsc = (e: KeyboardEvent) => {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis.close()\n\t\t}\n  }\n\n  private handleOverlayClick = (e: MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      this.close()\n    }\n  }\n\n  private createModal() {\n    document.body.appendChild(this.modal)\n    const container = document.createElement('div')\n\n    this.modal.appendChild(this.overlay)\n    this.overlay.appendChild(container)\n    container.appendChild(this.content)\n\n    this.overlay.setAttribute('style', `\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0,0,0,.6);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    `)\n    container.setAttribute('style', `\n      background-color: #fff;\n      max-height: 100vh;\n    `)\n  }\n\n}\n\nconst button = document.getElementById('modal-button')\n\nconst modalContent = document.createElement('div')\nmodalContent.setAttribute('style', `\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 30px;\n  max-width: 500px;\n  border-radius: 1px;\n`)\n\nmodalContent.innerHTML = `\n  <div>\n    <h1>Modal Title</h1>\n    <div>Modal Body</div>\n  </div>\n`\n\nconst modal1 = new Modal({\n  content: modalContent\n})\n\nbutton.onclick = () => modal1.show()\n"],"names":[],"mappings":";;;EAIA;MAKE,eAAY,EAEC;cADX,oBAAO;UADT,iBAMC;UAsBO,cAAS,GAAG,UAAC,CAAgB;cACrC,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE;kBACrB,KAAI,CAAC,KAAK,EAAE,CAAA;eACZ;WACA,CAAA;UAEO,uBAAkB,GAAG,UAAC,CAAa;cACzC,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,aAAa,EAAE;kBAChC,KAAI,CAAC,KAAK,EAAE,CAAA;eACb;WACF,CAAA;UAnCC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;UACtB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;UAC1C,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;OAC7C;MAEM,oBAAI,GAAX;UACE,IAAI,CAAC,WAAW,EAAE,CAAA;UAClB,IAAI,CAAC,iBAAiB,EAAE,CAAA;OACzB;MAEK,qBAAK,GAAZ;UACG,IAAI,CAAC,oBAAoB,EAAE,CAAA;UAC3B,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA;OACrB;MAEQ,iCAAiB,GAAzB;UACE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAA;UAC/D,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;OACrD;MAEO,oCAAoB,GAA5B;UACE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAA;UAClE,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;OACxD;MAcO,2BAAW,GAAnB;UACE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;UACrC,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;UAE/C,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;UACpC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAA;UACnC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;UAEnC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,uNAUlC,CAAC,CAAA;UACF,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,iEAG/B,CAAC,CAAA;OACH;MAEH,YAAC;EAAD,CAAC,IAAA;EAED,IAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAA;EAEtD,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;EAClD,YAAY,CAAC,YAAY,CAAC,OAAO,EAAE,kHAMlC,CAAC,CAAA;EAEF,YAAY,CAAC,SAAS,GAAG,4EAKxB,CAAA;EAED,IAAM,MAAM,GAAG,IAAI,KAAK,CAAC;MACvB,OAAO,EAAE,YAAY;GACtB,CAAC,CAAA;EAEF,MAAM,CAAC,OAAO,GAAG,cAAM,OAAA,MAAM,CAAC,IAAI,EAAE,GAAA,CAAA;;;;"}